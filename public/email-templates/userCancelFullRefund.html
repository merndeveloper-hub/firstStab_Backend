<!-- ==================== 1. USER CANCELS >24HRS - FULL REFUND ==================== -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Booking Cancelled - Full Refund</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #0880ff 0%, #04adff 100%); min-height: 100vh; padding: 40px 20px;">

<div style="max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 20px 60px rgba(8, 128, 255, 0.3);">
    
    <!-- Header -->
    <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 40px 30px; text-align: center;">
      <div style="width: 70px; height: 70px; background: rgba(255, 255, 255, 0.25); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px);">
        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
      </div>
      <h1 style="margin: 0; color: #ffffff; font-size: 28px; font-weight: 700;">Booking Cancelled</h1>
      <p style="margin: 12px 0 0 0; color: rgba(255, 255, 255, 0.9); font-size: 15px;">Full Refund Processed</p>
    </div>
    
    <!-- Content -->
    <div style="padding: 40px 30px;">
      <p style="margin: 0 0 20px 0; color: #2c3e50; font-size: 16px;">Hi <strong style="color: #0880ff;">{{userName}}</strong>,</p>
      
      <p style="margin: 0 0 25px 0; color: #495057; font-size: 15px; line-height: 1.7;">
        Your booking <strong>{{bookingId}}</strong> has been successfully cancelled. Since you cancelled more than 24 hours before the scheduled service, you're eligible for a <strong style="color: #10b981;">full refund</strong>.
      </p>
      
      <!-- Refund Info Box -->
      <div style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-left: 4px solid #10b981; padding: 22px; margin: 30px 0; border-radius: 8px;">
        <p style="margin: 0 0 15px 0; color: #065f46; font-size: 15px; font-weight: 600;">ðŸ’° Refund Details:</p>
        <div style="background: #ffffff; padding: 15px; border-radius: 6px;">
          <p style="margin: 0 0 8px 0; color: #64748b; font-size: 13px;">Service Fee:</p>
          <p style="margin: 0 0 15px 0; color: #1e293b; font-size: 18px; font-weight: 700;">${{refundAmount}}</p>
          <p style="margin: 0 0 8px 0; color: #64748b; font-size: 13px;">Payment Processing Fee:</p>
          <p style="margin: 0; color: #1e293b; font-size: 15px; font-weight: 600;">${{paymentFee}}</p>
        </div>
        <p style="margin: 15px 0 0 0; color: #047857; font-size: 14px;">
          Total refunded to your wallet: <strong>${{totalRefund}}</strong>
        </p>
      </div>
      
      <!-- Booking Details -->
      <div style="background: #f8f9fa; padding: 20px; margin: 25px 0; border-radius: 8px;">
        <p style="margin: 0 0 12px 0; color: #495057; font-size: 14px; font-weight: 600;">Cancelled Booking Details:</p>
        <p style="margin: 0 0 6px 0; color: #6c757d; font-size: 14px;"><strong>Service:</strong> {{serviceName}}</p>
        <p style="margin: 0 0 6px 0; color: #6c757d; font-size: 14px;"><strong>Professional:</strong> {{proName}}</p>
        <p style="margin: 0 0 6px 0; color: #6c757d; font-size: 14px;"><strong>Scheduled Date:</strong> {{bookingDate}}</p>
        <p style="margin: 0; color: #6c757d; font-size: 14px;"><strong>Cancellation Reason:</strong> {{cancelReason}}</p>
      </div>
      
      <p style="margin: 30px 0 0 0; color: #2c3e50; font-size: 15px;">
        Best regards,<br/><strong style="color: #0880ff;">The FirstStab Team</strong>
      </p>
    </div>
    
    <!-- Footer -->
    <div style="background: #f8f9fa; padding: 25px 30px; border-top: 1px solid #e9ecef;">
      <p style="margin: 0; color: #6c757d; font-size: 13px; text-align: center;">
        <strong>FirstStab Inc.</strong> | California, United States
      </p>
    </div>
  </div>
</body>
</html>
